<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/head"></head>
<body class="has-background-info">

<nav class="is-primary" th:insert="fragments/nav"></nav>

<section class="container is-max-desktop pb-6 px-4">
  <h3 class="ml-2 is-size-3 has-text-weight-bold has-text-white mt-3"
      th:text="${'Ruta en curso con ID RTI_00' + route.id + '00R'}"></h3>
  <h4 class="ml-2 is-size-4 has-text-weight-bold has-text-white"
      th:text="${'La parada actual es ID ' + 'RTS_00' + routeStop.id + '00RTS'}"></h4>
  <p class="ml-2 has-text-white" th:text="${'Tipo: ' + routeStop.type.toString()}"></p>

  <div class="columns my-3 mx-2 box">
    <div class="column">
      <h5 class="is-size-5 is-bold">Destinatario</h5>
      <div class="columns">
        <div class="column">
          <p class="has-text-weight-bold">Nombre</p>
          <p th:text="${recipient.name}"></p>
        </div>
        <div class="column">
          <p class="has-text-weight-bold">Apellidos</p>
          <p th:text="${recipient.lastName}"></p>
        </div>
        <div class="column">
          <p class="has-text-weight-bold">DNI</p>
          <p th:text="${recipient.DNI}"></p>
        </div>
      </div>
      <div class="columns">
        <div class="column">
          <p class="has-text-weight-bold">Domicilio</p>
          <p th:text="${recipient.location.calle + ' ' + recipient.location.numero }"></p>
          <p th:text="${recipient.location.city.name + ' ' + recipient.location.codigoPostal }"></p>
        </div>
      </div>
    </div>
  </div>

  <div class="columns my-3 mx-2 box">
    <div class="column">
      <h5 class="is-size-5 is-bold">Paquetes</h5>
      <table class="table is-bordered is-striped is-narrow is-hoverable is-fullwidth">
        <tr>
          <th>ID</th>
          <th>Alto</th>
          <th>Ancho</th>
          <th>Profundidad</th>
          <th>Peso</th>
        </tr>
        <tr th:each="parcel: ${parcels}">
          <td th:text="${parcel.id}"></td>
          <td th:text="${parcel.height}"></td>
          <td th:text="${parcel.width}"></td>
          <td th:text="${parcel.depth}"></td>
          <td th:text="${parcel.weight}"></td>
        </tr>
      </table>
    </div>
  </div>

  <div class="columns my-3 mx-2 box is-vcentered">
    <div class="column p-0">
      <h5 class="is-size-5 is-bold">Confirmar datos</h5>
    </div>
    <div class="column is-flex is-justify-content-flex-end">
      <a class="button is-danger" th:href="${'/employee/route/process/' + route.id + '/' + routeStop.id}">
        <span th:text="${routeStop.type.toString().equals('DELIVERY')} ? 'Confirmar Entrega' : 'Confirmar Recogida'">
        </span>
      </a>
    </div>
  </div>
</section>
</body>
</html>